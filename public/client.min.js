"use strict";const reloadBtn=document.getElementById("reload"),updateBtn=document.getElementById("update"),deleteBtn=document.getElementById("delete"),DB_URL=window.location.href+"api/registeredUsers_308b1b02d690/";function update(){const e=prompt("Enter user ID to change user data: ");if(null!==e&&""!==e){new Date;const t={name:prompt("Enter updated user's name:"),phone:prompt("Enter updated user's phone:"),email:prompt("Enter updated user's email:")};fetch(`${DB_URL}${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).catch(e=>console.error(e))}else alert("aborted")}function remove(){const e=prompt("Enter user ID to delete user: ");null!==e&&""!==e?fetch(`${DB_URL}${e}`,{method:"DELETE"}).then(e=>e.json()).catch(e=>console.error(e)):alert("aborted")}reloadBtn.addEventListener("click",()=>document.location.reload(!0)),updateBtn.addEventListener("click",update),deleteBtn.addEventListener("click",remove),"admin"===prompt("Enter password: ")&&(console.log(process.env.PASSWORD),fetch(DB_URL).then(e=>{if(200===e.status||"OK"===e.statusText)return e.json();alert(`SERVER ERROR!\nStatus code: ${e.status}`)}).then(e=>{const t=document.getElementById("dbWrapper"),n=document.createElement("table"),o=document.createElement("thead"),d=document.createElement("tbody"),a=(document.createElement("tr"),document.createElement("th")),r=document.createElement("th"),c=document.createElement("th"),m=document.createElement("th");a.textContent="Name",r.textContent="Phone",c.textContent="E-mail",m.textContent="Date",o.append(a,r,c,m),e.data.map(e=>{const t=document.createElement("tr"),n=document.createElement("td"),o=document.createElement("td"),a=document.createElement("td"),r=document.createElement("td");n.textContent=e.name,o.textContent=e.phone,a.textContent=e.email,r.textContent=e.date,t.append(n,o,a,r),d.appendChild(t)}),n.append(o,d),t.appendChild(n)}).catch(e=>console.error(e)));