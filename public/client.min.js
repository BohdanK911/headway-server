"use strict";const reloadBtn=document.getElementById("reload"),btnWrapper=document.querySelector(".btnWrapper"),updateBtn=document.getElementById("update"),deleteBtn=document.getElementById("delete"),DB_URL=window.location.href+"api/registeredUsers_308b1b02d690/";function update(){const e=prompt("Enter user ID to change user data: ");if(null!==e&&""!==e){const t={name:prompt("Enter updated user's name:"),phone:prompt("Enter updated user's phone:"),email:prompt("Enter updated user's email:")};fetch(`${DB_URL}${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).catch(e=>console.error(e))}else alert("Aborted")}function remove(){const e=prompt("Enter user ID to delete user: ");null!==e&&""!==e?fetch(`${DB_URL}${e}`,{method:"DELETE"}).then(e=>e.json()).catch(e=>console.error(e)):alert("aborted")}btnWrapper.addEventListener("click",({target:e})=>{switch(e.id){case"reload":case"reload":start();break;case"update":update();break;case"delete":remove()}});const start=()=>{fetch(DB_URL).then(e=>{if(200===e.status||"OK"===e.statusText)return e.json();alert(`SERVER ERROR!\nStatus code: ${e.status}`)}).then(({data:e})=>{const t=document.getElementById("dbWrapper"),n=document.createElement("table"),a=document.createElement("thead"),r=document.createElement("tbody"),d=document.createElement("tr"),o=document.createElement("th"),c=document.createElement("th"),m=document.createElement("th"),s=document.createElement("th");o.textContent="Name",c.textContent="Phone",m.textContent="E-mail",s.textContent="Date",d.append(o,c,m,s),a.appendChild(d),e.map(e=>{const t=document.createElement("tr"),n=document.createElement("td"),a=document.createElement("td"),d=document.createElement("td"),o=document.createElement("td");n.textContent=e.name,a.textContent=e.phone,d.textContent=e.email,o.textContent=e.date,t.append(n,a,d,o),r.appendChild(t)}),t.innerHTML="",n.append(a,r),t.appendChild(n)}).catch(e=>alert(e))};"9c1d280824f1ac3ad798f60004437586"===md5(prompt("Enter password: "))&&start();